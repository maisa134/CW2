{"remainingRequest":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mymac/Documents/GitHub/CW2/vue/src/views/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mymac/Documents/GitHub/CW2/vue/src/views/Index.vue","mtime":1621540515182},{"path":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/cache-loader/dist/cjs.js","mtime":1621539913396},{"path":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/babel-loader/lib/index.js","mtime":1621539912404},{"path":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/cache-loader/dist/cjs.js","mtime":1621539913396},{"path":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/vue-loader/lib/index.js","mtime":1621539925593}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgZGF0YSgpIHsKICAgIHJldHVybnsKICAgICAgcHJvZHVjdHM6IFtdLAogICAgICBzb3J0OiAiIiwKICAgICAgY2FydF9pdGVtczogW10sCiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgeyAKICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoKCdodHRwczovL3JvbWFpc2VhMTM3OC5oZXJva3VhcHAuY29tL2xlc3NvbnMnKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgICAgICAgIHJldHVybiBkYXRhCiAgICAgICAgICAgIH0pOwogICAgICB0aGlzLnByb2R1Y3RzID0gcmVzdWx0OwogIH0sCiAgY29tcHV0ZWQ6eyAKICAgIHByb2R1Y3RzX3NvcnRlZDogZnVuY3Rpb24oKXsKICAgICAgZnVuY3Rpb24gc3BhY2VzKGEsIGIpCiAgICAgIHsKICAgICAgICBpZiAoYS5zcGFjZXMgPiBiLnNwYWNlcykKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIGlmIChhLnNwYWNlcyA8IGIuc3BhY2VzKQogICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGxvY2F0aW9ucyhhLCBiKQogICAgICB7CiAgICAgICAgaWYgKGEubG9jYXRpb24gPiBiLmxvY2F0aW9uKQogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKGEubG9jYXRpb24gPCBiLmxvY2F0aW9uKQogICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGNvc3RzKGEsIGIpCiAgICAgIHsKICAgICAgICBpZiAoYS5jb3N0ID4gYi5jb3N0KQogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKGEuY29zdCA8IGIuY29zdCkKICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgICBmdW5jdGlvbiB0b3BpY3MoYSwgYikKICAgICAgewogICAgICAgIGlmIChhLnRvcGljID4gYi50b3BpYykKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIGlmIChhLnRvcGljIDwgYi50b3BpYykKICAgICAgICAgIHJldHVybiAtMTsKICAgICAgfQoKICAgICAgaWYodGhpcy5zb3J0ID09ICJ0b3BpYyIpCiAgICAgIHsKICAgICAgICB2YXIgdGVtcCA9IHRoaXMucHJvZHVjdHM7CiAgICAgICAgdGVtcC5zb3J0KHRvcGljcyk7CiAgICAgICAgcmV0dXJuIHRlbXA7CiAgICAgIH0KICAgICAgZWxzZSBpZih0aGlzLnNvcnQgPT0gImxvY2F0aW9uIikKICAgICAgewogICAgICAgIHRlbXAgPSB0aGlzLnByb2R1Y3RzOwogICAgICAgIHRlbXAuc29ydChsb2NhdGlvbnMpOwogICAgICAgIHJldHVybiB0ZW1wOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHRoaXMuc29ydCA9PSAiY29zdCIpCiAgICAgIHsKICAgICAgICB0ZW1wID0gdGhpcy5wcm9kdWN0czsKICAgICAgICB0ZW1wLnNvcnQoY29zdHMpOwogICAgICAgIHJldHVybiB0ZW1wOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHRoaXMuc29ydCA9PSAic3BhY2VzIikKICAgICAgewogICAgICAgIHRlbXAgPSB0aGlzLnByb2R1Y3RzOwogICAgICAgIHRlbXAuc29ydChzcGFjZXMpOwogICAgICAgIHJldHVybiB0ZW1wOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RzOwogICAgfQogIH0sCiAgbWV0aG9kczoKICB7IAogICAgaXNfY2FydF9lbXB0eSgpIAogICAgewogICAgICBpZiggdGhpcy5jYXJ0X2l0ZW1zLmxlbmd0aCA9PSAwKQogICAgICB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgZWxzZSAKICAgICAgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGlzX2Rpc2FibGVkKHByb2R1Y3QpCiAgICB7CiAgICAgIGlmIChwcm9kdWN0LnNwYWNlcyA9PT0gMCkKICAgICAgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIGVsc2UKICAgICAgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFkZChidXR0b24sIHByb2R1Y3QpCiAgICB7IAogICAgICBpZiAocHJvZHVjdC5zcGFjZXMgPiAwKQogICAgICB7CiAgICAgICAgcHJvZHVjdC5zcGFjZXMgLT0gMTsKICAgICAgICB0aGlzLmNhcnRfaXRlbXMucHVzaCh7IGlkOiBwcm9kdWN0LmlkLCB0b3BpYzogcHJvZHVjdC50b3BpYywgbG9jYXRpb246IHByb2R1Y3QubG9jYXRpb24sIGNvc3Q6IHByb2R1Y3QuY29zdCwgc3BhY2VzOiBwcm9kdWN0LnNwYWNlcyB9KQoKICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmNhcnRfaXRlbXMpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0X2l0ZW1zJywgcGFyc2VkKTsKCiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgCiAgICAgICAgICBtZXRob2Q6ICJQVVQiLAogICAgICAgICAgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iIH0sCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IAogICAgICAgICAgICBpZDogcHJvZHVjdC5pZCwKICAgICAgICAgICAgdG9waWM6IHByb2R1Y3QudG9waWMsCiAgICAgICAgICAgIGxvY2F0aW9uOiBwcm9kdWN0LmxvY2F0aW9uLAogICAgICAgICAgICBjb3N0OiBwcm9kdWN0LmNvc3QsCiAgICAgICAgICAgIHNwYWNlczogcHJvZHVjdC5zcGFjZXMsCiAgICAgICAgICAgIGltYWdlOiBwcm9kdWN0LmltYWdlCiAgICAgICAgICAgIH0pCiAgICAgICAgfTsKICAgICAgICBmZXRjaCgiaHR0cHM6Ly9yb21haXNlYTEzNzguaGVyb2t1YXBwLmNvbS9sZXNzb25zL3VwZGF0ZS1sZXNzb24iLCBvcHRpb25zKQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IGNvbnNvbGUubG9nKHJlc3BvbnNlKSkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"app\">\n    <h1>Lesson Ad Board</h1>\n    <div class=\"sort-div\">\n    <p class=\"select-label\">Sort by: </p>\n    <select v-model=\"sort\" class=\"select\">\n      <option disabled value=\"\">Sort by</option>\n      <option value=\"topic\">Topic</option>\n      <option value=\"location\">Location</option>\n      <option value=\"cost\">Cost</option>\n      <option value=\"spaces\">Spaces</option>\n    </select>\n    </div>\n    <div class=\"grid-wrap\">\n    <div class=\"grid-item\" v-for=\"ad in products_sorted\" :key=\"ad.id\"> \n      <ul>\n        <li>Topic: {{ ad.topic }}</li>\n        <li>Location: {{ ad.location }}</li>\n        <li>Cost: {{ ad.cost }}</li>\n        <li>Spaces: {{ ad.spaces }}</li>\n      </ul>\n      <img class=\"icon\" v-bind:src=\"ad.image\" />\n      <button v-on:click=\"add(this, ad)\" :disabled=\"is_disabled(ad)\"> Add </button>\n    </div>\n    </div>\n    <div class=\"button-checkout\">\n    <button >\n      <router-link\n      class=\"button-text\"\n      :disabled=\"is_cart_empty\"\n      :event=\"is_cart_empty() ? '' : 'click'\"\n      :to=\"{name: 'Checkout'}\">Shopping Cart</router-link></button>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n  data() {\n    return{\n      products: [],\n      sort: \"\",\n      cart_items: [],\n    }\n  },\n  async created() { \n    const result = await fetch('https://romaisea1378.herokuapp.com/lessons')\n          .then(response => response.json())\n          .then(data => {\n            console.log(data)\n            return data\n            });\n      this.products = result;\n  },\n  computed:{ \n    products_sorted: function(){\n      function spaces(a, b)\n      {\n        if (a.spaces > b.spaces)\n          return 1;\n        if (a.spaces < b.spaces)\n          return -1;\n        return 0;\n      }\n      function locations(a, b)\n      {\n        if (a.location > b.location)\n          return 1;\n        if (a.location < b.location)\n          return -1;\n        return 0;\n      }\n      function costs(a, b)\n      {\n        if (a.cost > b.cost)\n          return 1;\n        if (a.cost < b.cost)\n          return -1;\n        return 0;\n      }\n      function topics(a, b)\n      {\n        if (a.topic > b.topic)\n          return 1;\n        if (a.topic < b.topic)\n          return -1;\n      }\n\n      if(this.sort == \"topic\")\n      {\n        var temp = this.products;\n        temp.sort(topics);\n        return temp;\n      }\n      else if(this.sort == \"location\")\n      {\n        temp = this.products;\n        temp.sort(locations);\n        return temp;\n      }\n      else if (this.sort == \"cost\")\n      {\n        temp = this.products;\n        temp.sort(costs);\n        return temp;\n      }\n      else if (this.sort == \"spaces\")\n      {\n        temp = this.products;\n        temp.sort(spaces);\n        return temp;\n      }\n      return this.products;\n    }\n  },\n  methods:\n  { \n    is_cart_empty() \n    {\n      if( this.cart_items.length == 0)\n      {\n        return true;\n      }\n      else \n      {\n        return false;\n      }\n    },\n    is_disabled(product)\n    {\n      if (product.spaces === 0)\n      {\n        return true;\n      }\n      else\n      {\n        return false;\n      }\n    },\n    add(button, product)\n    { \n      if (product.spaces > 0)\n      {\n        product.spaces -= 1;\n        this.cart_items.push({ id: product.id, topic: product.topic, location: product.location, cost: product.cost, spaces: product.spaces })\n\n        const parsed = JSON.stringify(this.cart_items);\n        localStorage.setItem('cart_items', parsed);\n\n        const options = { \n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ \n            id: product.id,\n            topic: product.topic,\n            location: product.location,\n            cost: product.cost,\n            spaces: product.spaces,\n            image: product.image\n            })\n        };\n        fetch(\"https://romaisea1378.herokuapp.com/lessons/update-lesson\", options)\n        .then(response => console.log(response))\n      }\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  text-align: center;\n  color: 60,60,60;\n  margin-top: 60px;\n}\n\nh1 {\n  text-align: center;\n}\n\n.sort-div {\n  margin-left: 50px;\n  display: flex;\n  align-items: center;\n}\n\n.button-text {\n  font-size: 20px;\n  text-decoration: none;\n  color: black;\n}\n\nbutton {\n  background-color: white;\n  border-radius: 10px;\n  padding: 10px;\n  border: 1px solid gray;\n}\n\n.button-checkout {\n  margin: auto;\n  text-align: center;\n}\n\n.select {\n  font-size: 10px;\n  padding: 5px;\n  margin: 5px;\n  text-align: center;\n}\n\n.grid-wrap {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    margin-top: 16px;\n  }\n\n.grid-item {\n    align-items: center;\n    border-radius: 8px;\n    box-shadow: 0px 2px 5px #888;\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 2%;\n    padding: 18px;\n    position: relative;\n    width: 15%;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n.icon {\n  width: 120px;\n  height: 120px;\n}\n</style>\n"]}]}