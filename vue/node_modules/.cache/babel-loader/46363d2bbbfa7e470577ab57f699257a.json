{"remainingRequest":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/babel-loader/lib/index.js!/Users/mymac/Documents/GitHub/CW2/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mymac/Documents/GitHub/CW2/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mymac/Documents/GitHub/CW2/vue/src/views/Checkout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mymac/Documents/GitHub/CW2/vue/src/views/Checkout.vue","mtime":1621540543930},{"path":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/cache-loader/dist/cjs.js","mtime":1621539913396},{"path":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/babel-loader/lib/index.js","mtime":1621539912404},{"path":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/cache-loader/dist/cjs.js","mtime":1621539913396},{"path":"/Users/mymac/Documents/GitHub/CW2/vue/node_modules/vue-loader/lib/index.js","mtime":1621539925593}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FydF9pdGVtczogW10sCiAgICAgIG5hbWU6ICIiLAogICAgICBudW1iZXI6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydF9pdGVtcycpKSB7CiAgICAgIHRoaXMuY2FydF9pdGVtcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnRfaXRlbXMnKSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc19kaXNhYmxlZDogZnVuY3Rpb24gaXNfZGlzYWJsZWQoKSB7CiAgICAgIHZhciBsZXR0ZXJzX29ubHkgPSAvXlthLXpBLVpdKyQvOwogICAgICB2YXIgbnVtYmVyc19vbmx5ID0gL15bMC05XSskLzsKCiAgICAgIGlmICh0aGlzLm5hbWUgJiYgdGhpcy5udW1iZXIpIHsKICAgICAgICBpZiAoIXRoaXMubmFtZS5tYXRjaChsZXR0ZXJzX29ubHkpIHx8ICF0aGlzLm51bWJlci5tYXRjaChudW1iZXJzX29ubHkpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UoKSB7CiAgICAgIHZhciBhcnJheV9sZW5ndGggPSB0aGlzLmNhcnRfaXRlbXMubGVuZ3RoOwogICAgICB2YXIgcHJvZHVjdCA9IHRoaXMuY2FydF9pdGVtc1swXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlfbGVuZ3RoOyBpKyspIHsKICAgICAgICBwcm9kdWN0ID0gdGhpcy5jYXJ0X2l0ZW1zW2ldOwogICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgICB9LAogICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICBpZDogcHJvZHVjdC5pZCwKICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgICBudW1iZXI6IHRoaXMubnVtYmVyLAogICAgICAgICAgICBzcGFjZXM6IHByb2R1Y3Quc3BhY2VzCiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgICAgZmV0Y2goImh0dHBzOi8vcm9tYWlzZWExMzc4Lmhlcm9rdWFwcC5jb20vb3JkZXJzIiwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgYWxlcnQodGhpcy5uYW1lICsgIiwgdGhhbmsgeW91LiBZb3VyIG9yZGVyIGhhcyBiZWVuIHN1Ym1pdHRlZCIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Checkout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OATA,qBAUA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,EACA;AACA,WAAA,UAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;AACA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBAEA;AACA,UAAA,YAAA,GAAA,aAAA;AACA,UAAA,YAAA,GAAA,UAAA;;AACA,UAAA,KAAA,IAAA,IAAA,KAAA,MAAA,EACA;AACA,YAAA,CAAA,KAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA,EACA;AACA,iBAAA,IAAA;AACA;;AACA,eAAA,KAAA;AACA,OAPA,MASA;AACA,eAAA,IAAA;AACA;AACA,KAjBA;AAkBA,IAAA,OAAA,EAAA,mBACA;AACA,UAAA,YAAA,GAAA,KAAA,UAAA,CAAA,MAAA;AACA,UAAA,OAAA,GAAA,KAAA,UAAA,CAAA,CAAA,CAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,YAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,OAAA,GAAA,KAAA,UAAA,CAAA,CAAA,CAAA;AAEA,YAAA,cAAA,GAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,OAAA,EAAA;AAAA,4BAAA;AAAA,WAFA;AAGA,UAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,YAAA,EAAA,EAAA,OAAA,CAAA,EADA;AAEA,YAAA,IAAA,EAAA,KAAA,IAFA;AAGA,YAAA,MAAA,EAAA,KAAA,MAHA;AAIA,YAAA,MAAA,EAAA,OAAA,CAAA;AAJA,WAAA;AAHA,SAAA;AAUA,QAAA,KAAA,CAAA,2CAAA,EAAA,cAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA;AAAA,iBAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA;AAAA,SADA,EAEA,IAFA,CAEA,UAAA,IAAA;AAAA,iBAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AAAA,SAFA;AAGA;;AAEA,MAAA,KAAA,CAAA,KAAA,IAAA,GAAA,4CAAA,CAAA;AACA;AAzCA;AAhBA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view></router-view>\n    <div class=\"main\">\n    <h1>Checkout</h1>\n    <p>Enter your details:</p>\n    <p>Name   <input v-model=\"name\"></p>\n    <p>Phone number   <input v-model=\"number\"></p>\n    <button :disabled=\"is_disabled()\" v-on:click=\"message\">Checkout</button>\n\n    \n    <h2>Your cart items</h2>\n    <div v-for=\"lesson in cart_items\" :key=\"lesson.id\"> \n      <ul>\n        <li>Topic: {{ lesson.topic}}</li>\n        <li>Location: {{ lesson.location}} </li>\n        <li>Cost: {{ lesson.cost}}</li>\n        <li>Spaces: {{ lesson.spaces}}</li>\n      </ul>\n      <button class=\"button\"  v-on:click=\"remove(lesson)\" >Remove</button>\n    </div>\n    <button>\n      <router-link to=\"/\">Back to Index</router-link>\n    </button>     \n\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data() {\n    return {\n      cart_items: [],\n      name: \"\",\n      number: \"\",\n    };\n  },\n  mounted() \n  {\n    if (localStorage.getItem('cart_items')) \n    {\n        this.cart_items = JSON.parse(localStorage.getItem('cart_items'));\n    }\n  },\n  methods: {\n    is_disabled() \n    {\n      const letters_only = /^[a-zA-Z]+$/;\n      const numbers_only = /^[0-9]+$/;\n      if ( this.name && this.number)\n      {\n        if( !this.name.match(letters_only) || !this.number.match(numbers_only) )\n        {\n          return true;\n        }\n        return false;\n      }\n      else \n      {\n        return true;\n      }\n    },\n    message: function()\n    {\n      var array_length = this.cart_items.length;\n      var product = this.cart_items[0];\n      for (var i = 0; i < array_length; i++) {\n        product = this.cart_items[i];\n\n        const requestOptions = { \n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            id: product.id, \n            name: this.name,\n            number: this.number,\n            spaces: product.spaces,\n            })\n        };\n        fetch(\"https://romaisea1378.herokuapp.com/orders\", requestOptions)\n        .then(response => console.log(response))\n        .then(data => console.log(data))\n      }\n      \n      alert(this.name + \", thank you. Your order has been submitted\"); \n    },\n  }\n}\n</script>\n\n<style scoped>\n.main {\n  text-align: center;\n}\n\n.grid-item {\n    align-items: center;\n    text-align: center;\n    border-radius: 8px;\n    box-shadow: 0px 2px 5px #888;\n    display: flex;\n    flex-direction: column;\n    margin: auto;\n    margin-bottom: 2%;\n    padding: 18px;\n    position: relative;\n    width: 15%;\n}\n\n\n</style>"],"sourceRoot":"src/views"}]}